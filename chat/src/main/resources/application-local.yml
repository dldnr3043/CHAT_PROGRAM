#############################################################################
# Spring Config                                                             #
#############################################################################
spring:
   # DataSource Config Setting
   datasource:
      driver-class-name: oracle.jdbc.driver.OracleDriver
      url: jdbc:oracle:thin:@localhost:1521/orcl
      user-name: 'CHAT'
      password: 'CHAT'
   
   # JPA Config Setting
   jpa:
      hibernate:
         ddl-auto: update
      generate-ddl: false
      show-sql: true
      database: oracle
      database-platform: org.hibernate.dialect.Oracle12cDialect
      properties:
         hibernate.format_sql: true
         hibernate.enable_lazy_load_no_trans: true
   # Http Config Setting
   http:
      encoding:
         charset: UTF-8
         enabled: true
         
   # DevTools Setting : 소스 수정시 자동 반영
   devtools:
      livereload:
         enabled: true
   
   # Session Config Setting
   session:
      store-type: redis
      redis:
         cleanup-cron: '* */5 * * * *' # 매 5분마다 레디스 clean
         flush-mode: immediate         # on-save : 호출될 때만 기록, immediate : 즉시 기록
         namespace: 'chat:session'
         
   # Redis Config Setting
   redis:
      host: localhost
      port: 6379
#      cluster:
#         node: a,b,c,d,e,f
      ssl: false
      lettuce:
         pool:
            max-active: 10
            max-idle: 10
            min-idle: 2
#         cluster:
#            refresh:
#               period: 60s         # cluster topology refresh period (topology : 클러스터 구성)
#               adaptive: true      # 적응형 topology refresh 사용여부
                  
#############################################################################
# logging Config                                                            #
#############################################################################
logging:
   level:
      org.hibernate: info
      
#############################################################################
# Server Config                                                             #
#############################################################################
server:
   port: 9443
   servlet:
      # Session setting
      session:
         cookie:
            name: 'LDUSESSIONID'
            http-only: true
            secure: true
      tracking-mode: cookie
      
   

#############################################################################
# Chat Config                                                               #
#############################################################################
project:
   service-url: http://localhost:9443 # 서비스 url
   public-url: http://localhost:9443  # 공개 url (외부에서 접근이 필요한 경우 사용)
   main-path: /chat/web/main
   login-path: /chat/web/login
   logout-path: /chat/web/logout